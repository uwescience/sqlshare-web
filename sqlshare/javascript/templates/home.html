<script>
   $(document).ready(function() {
    console.log($('#templates_query_error.html'));
     $('#templates/query/error.html').tmpl().appendTo('#destination');
   });
</script>

<div style="width: 400px; height: 400px; border: 1px solid red;" id="destination"></div>

<iframe id="yui-history-iframe" src="javascript/yui/build/history/assets/blank.html"></iframe>
<input id="yui-history-field" type="hidden">

<div id="ss_app" class="ss-app-container">
    
    <div class="ss-sidebar" id="ss_sidebar">
             
            <h3 class="ss-sidebar-logo"><a title="Welcome to SQLShare" href="sqlshare#s=home"><img src="sqlshare/images/ss-logo.png" /></a></h3>
            
            <div id="ss_sidebar_content" class="ss-sidebar-content">
                <ul class="ss-sidebar-items">
                    <li id="your_queries_li"><a href="sqlshare#s=home" title="View datasets owned by you" rel="home">Your datasets
</a></li>
                    <li id="all_queries_li"><a href="sqlshare#s=all_queries" title="View all datasets" rel="all_queries">All datasets
</a></li>
                    <li id="shared_queries_li"><a href="sqlshare#s=shared" title="View datasets shared with you" rel="shared_queries">Shared datasets
</a></li>
                    <li id="query_list_li"><a href="sqlshare#s=querylist" title="View recent query activity" rel="querylist"><span style="display:block; float:left; width:100px; padding:0;">Recent&nbsp;activity...
</span><span id="nav_finished_query_count" style="display:block;float:right;padding:0; color:green;font-size:92%;padding-top:1px;"></span><span class="clear" style="height:0;padding:0;"></span>
                    </a></li>
                    <li><span id="recent_queries" style="cursor:pointer;">Recently viewed
&nbsp;&nbsp;<span style="font-size:110%;display:inline;padding:0;">&raquo;</span></span></li>
                </ul>
                <ul class="ss-sidebar-items">  
                    <li id="new_upload_li"><a href="sqlshare#s=file" title="Upload a new dataset" rel="file">Upload dataset
</a></li>
                    <li id="new_query_li"><a href="sqlshare#s=query" title="Start a new query" rel="query">New query
</a></li>
                </ul>
                <div id="tagging_sidebar"></div>
            </div>
            
    </div>
    
    
    <div class="ss-content" id="ss_content">
    
        <div id="menu_container"></div>
        <div id="hidden_test_container" style="visibility: hidden; position: absolute; top: -900px;"></div>
        
        <div class="ss-app-navigation">
            
            <div id="tab_nav_tables" class="nav-container">           
                <ul class="ss-tables-list" id="table_tab_list" style="margin-right:530px;">
                    <li id="table_tab_overflow_li" class="tab_overflow"><div id="table_tab_overflow_div"></div></li>
                </ul>
            </div>
            
            <div class="ss-account-info">
                <p><span style="color:#275877;font-weight:normal;">Logged in:
</span>&nbsp;&nbsp;<span style="display:inline-block;">${login_name}</span></p>
            </div>
            
            <div class="clear"></div>
            
            
            
        </div>
        
        <div id="ss_application_wrapper">
            
            <div class="ss-app-workspace-wrapper">
                <div id="ss_app_workspace" style="padding-right:10px;"></div>
            </div>
            
            <div class="ss-editor" id="ss_editor_col">
                <div id="edit_query_container" style="overflow-y: auto; margin-left:10px; padding-right:10px; width:480px; "></div>
            </div>
            
            <div class="clear"></div>
             
        </div>
        <div class="clear"></div>
        
    </div>
    

    <div class="clear"></div>

</div>


<script id="templates_table_tab.html" type="text/x-jquery-tmpl"></script><a title="${display_name}" href="sqlshare#s=${type}/${name}">${display_name}</a> <a class="tab_close" title="Close this tab" name="tab_${position}">x</a>

</script>
<script id="templates_uploader_parser_options.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Upload Dataset
</h3>
</div>



<div class="ss-upload-container">
    
    <div class="ss-upload-header">
        <span>1. Choose File
</span> 
        <span class="current">2. Import Settings
</span>
        <span class="last">3. Save
</span>
    </div>
    
    <div class="ss-upload-body">
                
        <div class="ss-upload-parser-options">
        
            <div class="parser-header">
                <h4>Dataset was imported with the following settings:</h4>
                <p id='${id}_parser_info'>You can change the parser options if your data was not properly imported.</p>
                <p style="color: orange; display:none;" id='${id}_parser_changed'>Your parser options have been changed.</p>
            </div>
            
            <div class="parser-options">
                 <div class="parser-options-text">Values are separated by <select id="${id}_delimiter">
                    {{each delimiters}}
                    <option value="${value}" {{if selected}}selected="selected"{{/if}}>${display}</option>
                    {{/each}}
                </select></div>
            </div>        
            
            <div class="parser-options">
                <div class="parser-options-text" style="border-right:1px solid #ddd; padding-right:24px;"><input type="checkbox" id="${id}_has_column_header" value="1" {{if has_column_headers}}checked="checked"{{/if}} />&nbsp;Contains column header</div>
            </div>
            
            <div class="clear">&nbsp;</div>
        </div>
        
        <div class="ss-dataset-preview" id="dataset_preview_container">
            <h5>DATASET PREVIEW
&nbsp;&nbsp;&nbsp;&nbsp;<span class="import-message">(Imported table with <span class="column-count">${col_count} columns</span>)</span></h5>
            
            <div class="ss-table-container">
                <div id="upload_results"></div>
            </div>
        </div>
        <div id="dataset_preview_error_container" style="display:none;">
            Unable to show a preview of your dataset with the options provided.
        </div>
    </div>
    
    <div class="ss-upload-actions">
        <div class="upload-cancel"><a id="${id}_cancel" class="ss-link-cancel">Cancel
</a></div>
        <div class="upload-proceed">
            <button class="ss-actions-button" id="${id}_step_1">Back
</button>
            <button class="ss-actions-button" id="${id}_step_3">Next
</button>
        </div>
        <div class="clear">&nbsp;</div>
    </div>
       
</div>
</script>
<script id="templates_uploader_uploading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Saving...
</h3>
</div>

<div class="ss-processing-container" style="margin-left: -120px;">
    <div id="upload_progress_wrapper" style="border: 1px solid #aaa; height: 30px; width: 200px"></div>
    <div id="upload_progress_meter" style="background-color: aqua; height: 30px; width: 0px; position:absolute; top:1px; left:1px;"></div>
    <p style="color:#999; margin-top:8px;">Please wait while we save your dataset...</p>
</div>



</script>
<script id="templates_uploader_file_list.html" type="text/x-jquery-tmpl"></script>{{each files}}
<div style="width: 0px; height: 32px; background-color: aqua; margin: 8px 0;" id="${container_id}_${file_id}_file_status"></div>

<div style="width: 498px; line-height: 30px; top: 0; position: absolute; border:solid 1px #aaa; ">
    <span style="display:inline-block; float:left; margin-left:4px;font-weight:bold;">${name}</span>
    <span style="float:right;display:inline-block;margin-right:4px; color: #888;">${display_size}</span>
    <div class="clear"></div>
</div>

<input type="hidden" name="${container_id}_upload_file" id="${container_id}_${file_id}_file_id" value="preval"/>
{{/each}}
</script>
<script id="templates_uploader_step1.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Upload Dataset
</h3>
</div>


<div class="ss-upload-container">
    
    <div class="ss-upload-header">
        <span class="current">1. Choose File
</span> 
        <span>2. Import Settings
</span>
        <span class="last">3. Save
</span>
    </div>
    
    {{if is_back}}
    <div style="width: 500px; margin:20px auto;">

        <h2 style="margin:0;">File:
</h2>

        <div id="${id}_files_list" style="position:relative;">
            <div style="line-height: 30px; background:aqua; border:solid 1px #aaa; margin:8px 0;">
                <span style="display:inline-block; float:left; margin-left:4px;font-weight:bold;">${file_name}</span> 
                <span style="float:right;display:inline-block;margin-right:4px; color: #888;">${size}</span>
                <div class="clear"></div>
            </div>
        </div>
        <div id="${id}_upload" style="display:block; position:absolute; z-index:2; height: 1.4em; cursor:pointer;"></div>
        <div id="${id}_selectFilesLink" style="display: none; z-index:1;"><a id="selectLink" href="#">Select a different file</a></div>

        <div style="display:none; text-align:center;" id="${id}_analyzing_display">
            <img src="sqlshare/images/ss-loading.gif" />
            <p style="color:#999;">Analysing your file...</p>
        </div>

        <!-- hide unless there is an error with the file -->
        <div style="display: none;" id="ss_upload_error" class="ss-upload-error">
            <p>We ran into a problem with this file. Please try uploading a different file or email us directly at <a href="mailto:sqlshare@uw.edu">sqlshare@uw.edu</a> for additional support.</p>    
        </div>

    </div>

    <div>
        <div style="width:40%; float:left;"><a id="${id}_cancel" class="ss-link-cancel">Cancel</a></div>

        <div id="${id}_step1_next_wrapper" style="width:40%; float:right; text-align:right;">
            <button class="ss-actions-button" id="${id}_step1">Next</button>
        </div>
        <div class="clear">&nbsp;</div>
    </div>


    {{else}}
    <div style="width: 500px; margin: 30px auto;">

        <h2 style="margin:0;">File:
</h2>            
        <div id="${id}_files_list" style="position:relative;"></div>
        <div id="${id}_upload" style="display:block; position:absolute; z-index:2; height: 1.4em; cursor:pointer;">            
            <p style="color:red; margin-top:.7em;">Adobe Flash is not installed. You need to <a href="http://get.adobe.com/flashplayer/">download</a> it to use this feature.</p>
        </div>


        <div id="${id}_selectFilesLink" style="display: none; z-index:1">
            <h2><span id="selectLink" style="color:blue; text-decoration:underline; cursor:pointer;">Select file</span></h2>
            <p style="color:#666;"><strong>Accepted file types:</strong> Comma-separated values (.csv) and Plain text (.txt)</p>
        </div> 

        <div style="display: none; text-align:center;" id="${id}_analyzing_display">
            <img src="sqlshare/images/ss-loading.gif" />
            <p>Analysing your file...</p>
        </div>

        <!-- hide unless there is an error with the file -->
        <div style="display: none;" id="ss_upload_error" class="ss-upload-error">
            <p>We ran into a problem with this file. Please try uploading a different file or email us directly at <a href="mailto:sqlshare@uw.edu">sqlshare@uw.edu</a> for additional support.</p>
        </div>

    </div>

    <p><a id="${id}_cancel" class="ss-link-cancel">Cancel
</a></p>

    {{/if}}

</div>


</script>
<script id="templates_uploader_table_options.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Upload Dataset
</h3>
</div>



<div class="ss-upload-container">
    
    <div class="ss-upload-header">
        <span>1. Choose File
</span> 
        <span>2. Import Settings
</span>
        <span class="current last">3. Save
</span>
    </div>

    <div style="width: 500px; margin:20px auto;">

        
        <div style="margin-bottom:10px;"><span>Title:</span><br/>
        <input style="width:492px; padding:2px;" type="text" id="${id}_table_title" value="${title}"/>
        <div style="display: none;" id="ss_title_required" class="ss-error-text">Title Required</div>
        <div style="display: none;" id="ss_title_invalid" class="ss-error-text">Title must by 120 characters or less, and not include ?, #, / or \ </div>
        </div>
        
        <div style="margin-bottom:10px;"><span>Description:</span><br/>
        <textarea style="width:500px;" id="${id}_description">${description}</textarea></div>

        <h5>Tags</h5>
        <div id="upload_tag_container"></div>
        
        <div><input type="checkbox" id="${id}_is_public" {{if is_public}}checked="checked"{{/if}}/>&nbsp;Share this dataset with everyone.</div>
        

    </div>
    
    <div>
        <div style="width:40%; float:left;"><a id="${id}_cancel" class="ss-link-cancel">Cancel
</a></div>
    
        <div style="width:40%; float:right; text-align:right;">
            <button class="ss-actions-button" id="${id}_back_to_2">Back
</button>
            <button class="ss-actions-button" id="${id}_load_table">Save
</button>
        </div>
        <div class="clear">&nbsp;</div>
    </div>
        
</div>
</script>
<script id="templates_uploader_error.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Error!
</h3>
</div>

<p>Error Uploading file: ${detail}</p>
</script>
<script id="templates_table_change_description.html" type="text/x-jquery-tmpl"></script><textarea id="${id}_description">${description}</textarea>
<button id="${id}_save_description">Save</button>
<button id="${id}_cancel_description">Cancel</button>
</script>
<script id="templates_table_rename.html" type="text/x-jquery-tmpl"></script><input type="text" id="${id}_name" value="${name}"/>
<button id="${id}_save_name">Save</button>
<button id="${id}_cancel_name">Cancel</button>
</script>
<script id="templates_table_toggling_public.html" type="text/x-jquery-tmpl"></script>spinner
</script>
<script id="templates_table_display.html" type="text/x-jquery-tmpl"></script><div style="background-color: #fff; padding: 5px 2px;height:21px;">
    <div id="${id}_name_required" style="display: none;">A name is required</div>
    <h3 style="float:left;"><div id="${id}_name_container">${tablename}</div></h3>
    <div style="float:left;margin-left:20px;">Last modified: ${date_modified}</div>
    <div id="${id}_is_public" style="float:right;margin-right:10px;">Availability: {{if is_public}}<span class="ss-availability-public">Public</span>{{else}}<span class="ss-availability-private">Private</span>{{/if}}</div>
    <div class="clear"></div>

</div>

<div style="background-color: #ddd; padding: 8px 4px; height:21px; text-align:right;">
     <button id="${id}_download_query">Download</button>
     <button type="button" disabled="disabled">Visualize</button>
     <button type="button" disabled="disabled">Copy</button>
     <button type="button" disabled="disabled">Delete</button>
     <div id="${id}_download_error" style="display: none;"></div>
</div>

<div style="margin:10px;">

    {{if description}}
    <div id="${id}_description_container">${description}</div>
    {{else}}
    <div id="${id}_description_container"><span class="ss-click-to-edit">Click here to add a description</span>
</div>
    {{/if}}

    Rows: ${row_count}

</div>  
  
<div style="overflow:auto; height: 400px; padding-left: 10px;">
    <div id="${id}_table_preview"></div>
</div>

</script>
<script id="templates_table_loading.html" type="text/x-jquery-tmpl"></script><div style="background-color: #fff; padding: 5px 2px;height:21px;">
    <h3>Loading...
</h3>
</div>

<p>spinner</p>

</script>
<script id="templates_table_error.html" type="text/x-jquery-tmpl"></script>Error loading table
</script>
<script id="templates_open_id_google.html" type="text/x-jquery-tmpl"></script><h1>Welcome to OpenID::Google!</h1>

<p>
  This is a template you get to customize... and sub controllers/views will be below!
</p>

<a href="${url}">${url}</a>

</script>
<script id="templates_admin_override.html" type="text/x-jquery-tmpl"></script><h1>Choose a user to act as:</h1>

<p><a href='sqlshare/'>Go to SQL Share</a></p>

<div id="user_wrapper">
<table id="sqlshare_users">
    <thead>
        <tr>
            <th>Login name</th>
            <th>Name</th>
            <th>Last login</th>
        </tr>
    </thead>
    <tbody>
    {{each users}}
        <tr>
            <td>${login}</td>
            <td>${name} ${surname}</td>
            <td>${last_login}</td>
        </tr>
    {{/each}}
    </tbody>
</table>
</div>

<script>
    (function() {
        var date_formatter = function(cell, record, column, data) {

            if (data == '-1') {
                cell.innerHTML = '<em>Has not logged in yet</em>';
            }
            else {
                var hours = data.getHours();
                var ampm = 'AM'
                if (hours > 11) {
                    ampm = 'PM';
                    hours -= 12;
                }
                if (hours == 0) {
                    hours =  12
                }
                cell.innerHTML = [data.getMonth(), '/', data.getDate(), '/', data.getFullYear(), ' ', hours, ':', data.getMinutes(), ' ', ampm].join('');
            }
        };

        var my_date = function(s) {
            if (s == '') {
                return -1;
            }
            return new Date(s);
        };

        var cols = [
            { key: 'login', label: 'Login name', sortable: true },
            { key: 'name', label: 'Name', sortable: true },
            { key: 'last_login', label: 'Last login', formatter:date_formatter, sortable: true },
        ];

        var source = new YAHOO.util.DataSource(YAHOO.util.Dom.get("sqlshare_users"));
        source.responseType = YAHOO.util.DataSource.TYPE_HTMLTABLE;
        source.responseSchema = {
        fields: [
                {key:"login" },
                {key:"name"},
                {key:"last_login", parser: my_date}
                ]
        };

        var table = new YAHOO.widget.DataTable("user_wrapper", cols, source,
            {
                sortedBy:{key:"login",dir:"asc"}
            }
        );
    })();
</script>
</script>
<script id="templates_wayf_chooser.html" type="text/x-jquery-tmpl"></script>
    <div class="ss-wayf-content">
            
        <img src="sqlshare/images/ss-wayf-logo.png" style="width:240px;"/>
        
        <p class="ss-wayf-headline"><strong>SQLShare is an easier way to store and share your data.</strong>  Get answers to your research questions right now.</p>


        <div class="ss-wayf-main">
            <div class="ss-wayf-hero"><img src="sqlshare/images/ss-wayf-hero.png" style="width:550px;" /></div>
            <div class="ss-wayf-hero-content">                
                
                <div class="ss-wayf-login">
                    <h3>Log in using your account:</h3>
                    <input type="hidden" name="shire" value="${shire}" />
                    <input type="hidden" name="target" value="${target}" />
                    <input type="hidden" name="providerId" value="${providerId}" />
                    <input type="hidden" name="time" value="${time}" />
                    <input type="hidden" name="uw_login" value="1" />
                    
                    <button class="uw" onclick="form.submit();">UW</button>
                    <button class="google" onclick="window.location.href='sqlshare/openid?target={{if google_target}}${google_target}{{else}}${target}{{/if}}';">Google</button>
                                        
                </div>
                
                <div class="ss-wayf-new-user">
                    <h3>Don&rsquo;t have an account?</h3>
                    <p>Create a <a href="https://www.google.com/accounts/NewAccount">Google Account</a> and start using SQLShare quickly.</p>
                </div>
                
            </div>
            <div class="clear"></div>
        </div>
                       
        <div>
            <div class="ss-wayf-feature">
                <h2>Upload</h2>
                <p>Upload any tabular data and start analyzing instantly.  No need to install, configure, or design a database.</p>
            </div>
            <div class="ss-wayf-feature">
                <h2>Modify</h2>
                <p>Exercise the full power of SQL even with zero programming experience: joins, subqueries, set operations.</p>
            </div>
            <div class="ss-wayf-feature-end">
                <h2>Share</h2>
                <p>Analyze and compare your data collaboratively.  Derive new datasets and share them with your colleagues.</p>
            </div>
            <div class="clear"></div>
        </div>
        
        
        <div class="ss-wayf-sponsors">
        
            <h5 style="">Brought to you by:</h5>
        
            <div class="ss-wayf-sponsors-logo"><img src="sqlshare/images/ss-wayf-escience.png" style="" /><br/>eScience Institute</div>            
            <div class="ss-wayf-sponsors-logo"><img src="sqlshare/images/moore-foundation-logo.gif" style="" /></div>
            <div class="clear"></div>
            
        </div>
        
    </div>
    
</script>
<script id="templates_email_urls_user_list.html" type="text/x-jquery-tmpl"></script><h1>Users:</h1>

{{each users}}
    <a href="${url}">${name} ${surname} (${login_name})</a>
    <br />
{{/each}}

</script>
<script id="templates_email_urls_email_list.html" type="text/x-jquery-tmpl"></script><h1>Emails:</h1>

{{each emails}}
    ${email}: ${url} {{if is_active}}Active{{else}}Inactive{{/if}}<br />
    <ul>
    {{if users}}
        {{each users}}
            <li>${name} ${surname} (${login_name}) </li>
        {{/each}}
    {{else}}
        <li>No users yet.</li>
    {{/if}}
    </ul>
    <br />
{{/each}}
</script>
<script id="templates_email_urls_dataset_list.html" type="text/x-jquery-tmpl"></script><h1>Datasets:</h1>

{{each datasets}}
    <a href="${url}">${name} (${count} emails)</a> <br />
{{/each}}
</script>
<script id="templates_shared_queries_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div>
</script>
<script id="templates_shared_queries_list.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Shared Datasets
</h3>
    <div id='js-filter-wrapper' class="ss-dataset-filter"><span class="ss-filter-label">Filter dataset by keyword:
</span>&nbsp;&nbsp;<input type="text" id="query_filter" /> <a href="javascript:void(0)" id="clear_query_filter" role="button">x</a></div>
</div>

{{if no_queries}}
<div class="ss-no-datasets-exist">
	No datasets have been shared with you yet.

</div>{{else}}
<div id="${id}_table" class="ss-dataset-list"></div>
{{/if}}
</script>
<script id="templates_shared_queries_error.html" type="text/x-jquery-tmpl"></script><h3>Error!
</h3>
<p>We could not retrieve the list of queries shared with you. Please try reloading your browser.</p>
</script>
<script id="templates_default_home_screen.html" type="text/x-jquery-tmpl"></script><div style="background-color: #fff; padding: 5px 2px;height:21px;">
    <h3>My Queries</h3>
</div>

<p>Screen should default to a list of queries owned by the logged in user...</p></script>
<script id="templates_load_error_bad_host.html" type="text/x-jquery-tmpl"></script><h3>Error!
</h3>
<p>We could not establish a connection to SQLShare.</p>


</script>
<script id="templates_boilerplate.html" type="text/x-jquery-tmpl"></script><form action="${uri}" method="post" accept-charset="UTF-8" id="solstice_app_form" onsubmit="return Solstice.Button.performClientAction();">
<input type="hidden" id="solstice_selected_button" name="solstice_selected_button" value=""/>
<div class="ss-boilerplate">

    ${application_nav}
    ${messaging_pane}
    ${content}

</div>
    ${developer_toolbar}
</form>
</script>
<script id="templates_query_queue_display.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Recent Activity
&nbsp;<span class="ss-activity-tally"><span class="ss-activity-tally-total">${total_tasks}</span> tasks total |
&nbsp;<span class="ss-activity-tally-running">${running_tasks}</span> running |
&nbsp;<span class="ss-activity-tally-finished">${finished_tasks}</span> finished
</span></h3>
</div>

{{if no_queries}}
<div class="ss-no-datasets-exist">
	You have not performed any queries recently.

</div>
{{else}}

<div id="js-query-queue" class="ss-dataset-list">
<table id="js-query-queue-table">
    <thead>
        <tr>
            <th>Query/Dataset</th>
            <th>Started</th>
            <th>Status</th>
            <th>Cancel/Remove</th>
            <th style="display: none">ID</th>
            <th style="display: none">Finished</th>
        </tr>
    </thead>
    <tbody>
        {{each queries}}
            <tr>
                <td>
                    ${sql}
                </td>
                <td>
                    ${start}
                </td>
                <td>
                    {{if end}}<span style="color:green;">Finished
</span>{{else}}<span style="color:#aaa;">Running...
</span>{{/if}}
                </td>
                <td>
                    <a href="javascript:void(0)" class="remove" id='remove_${url}' rel="{{if end}}remove{{else}}cancel{{/if}}">{{if !end}}x{{/if}}</a>
                </td>
                <td style="display: none;">${query_id}</td>
                <td style="display: none;">{{if end}}1{{else}}0{{/if}}</td>
            </tr>
        {{/each}}
    </tbody>
</table>
</div>
{{/if}}
</script>
<script id="templates_query_queue_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>
<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div>
</script>
<script id="templates_query_interface.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Start a New Query
</h3>
</div>


<div>

    <div class="ss-query" style="margin:1em 0; border-bottom:1px dashed #AAAAAA;">

        <label for="${id}_query">SQL Query
</label>  <span class="ss-text-example">(E.g. select * from table)
</span>
        <br />
        <div id="${id}_query_wrapper" style="border: 1px solid black; display: none;">
            <textarea id="${id}_query" style="height: 170px;"></textarea>
        </div>

        <div style="margin: 15px 0; text-align:right;">
            <button class="ss-actions-button" id="${id}_run_query">Run query
</button>
            <button class="ss-actions-button" id="${id}_save_query">Save query
</button>
            <button class="ss-actions-button" id="${id}_download_query">Download results
</button>
        </div>
        
    </div>
    
    <div id="${id}_download_error" style="display: none;"></div>
</div>


<div class="ss-content-table" style="display:none;" id="new_query_preview_panel">
    
    <h5 id="dataset_preview_header">DATASET PREVIEW
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight:normal;">Rows <span style="color:#000;font-weight:bold;">1 - <span id="preview_max_rows"></span> </span> of <span style="color:#000;font-weight:bold;"><span id="preview_total_rows"></span></span>&nbsp;&nbsp;|&nbsp;&nbsp;Columns <span id="preview_max_cols" style="color:#000;font-weight:bold;"></span> of <span id="preview_total_cols" style="color:#000;font-weight:bold;"></span></span></h5>
    
    <div id="ss_table_container_main" class="ss-table-container">
        <div id="${id}_results" class="ss-queryresults"></div>
    </div>
    
</div>

</script>
<script id="templates_query_sharing_panel_public.html" type="text/x-jquery-tmpl"></script>    <h4>${dataset_name}</h4>

    <div id="js-dataset-sharing-info-public">
    <span class="ss-access-public"><strong>Everyone</strong> can view this dataset</span><a style="margin-left:15px;font-size:82%;" class="js-make_dataset_private" href="javascript:void(0);">Make dataset private</a>
    </div>
    <div id="js-dataset-sharing-changed-public" style="display: none;">
    <span style="color:orange;" >Dataset will be set to public upon saving.</span>
    </div>
    {{if has_users}}
    <div class="ss-sharing-container" style="opacity: .60;">
        <h5>Dataset was previously shared with the following users...</h5>
        <div id="permissions_wrapper_public" style="height: 175px; overflow-y: auto; border: solid 1px #7F7F7F;">
            <table id="sharing_list_public">
                <thead>
                    <tr><th>Name</th></th></tr>
                </thead>
                <tbody>
                    {{each accounts}}
                    {{if is_user}}
                        <tr><td><span class="permission-user">${name} ${surname} (${login})</span> {{if email}}shared by ${email}{{/if}}</td>
                        <td></td></tr>
                    {{else}}
                        <tr><td><span class="permission-user">${email}</span></td>
                        <td></td></tr>
                    {{/if}}
                    {{/each}}
                </tbody>
            </table>
        </div>
    </div>
    
    {{else}}
    <div class="ss-sharing-container">
        <p class="public-message">This dataset is viewable by everyone. You can <a class="js-make_dataset_private" href="javascript:void(0);">make the dataset private</a> or <a class="js-make_dataset_private" href="javascript:void(0);">share with other users</a> if you want to add more viewing restrictions.</p>
    </div>
    {{/if}}
    
    <div style="margin-top:10px; text-align:right;">
        <a href="javascript:void(0)" class="js-close-sharing-panel ss-link-cancel" style="margin-right:10px;">Cancel
</a>
        <button class="ss-actions-button" id="js-sharing-save-public">Save
</button>
    </div>
</script>
<script id="templates_query_sharing_panel_private.html" type="text/x-jquery-tmpl"></script>    <h4>${dataset_name}</h4>

    <div id="js-dataset-sharing-info">
    {{if has_users}}
    <span class="ss-access-shared">Only <strong>you</strong> and <strong>specific users</strong> can view this dataset</span><a style="margin-left:15px;font-size:82%;" href="javascript:void(0)" class="js-make_dataset_public">Make dataset public</a>
    {{else}}
    <span class="ss-access-private">Only <strong>you</strong> can view this dataset</span><a style="margin-left:15px;font-size:82%;" href="javascript:void(0)" class="js-make_dataset_public">Make dataset public</a>
    {{/if}}
    </div>
    <div id="js-dataset-sharing-changed" style="display: none;">
    <span style="color:orange;" >Dataset will be set to private upon saving.</span>
    </div>
    <div id="js-dataset-sharing-changed-with-users" style="display: none;">
    <span style="color:orange;" >Sharing permissions have changed and will be updated upon saving.</span>
    </div>
    
    <div class="ss-sharing-container">
        
        <h5>Share with others:</h5>
        
        <div id="share_ds_autocomplete">
            <input type="text" id="share_ds_autocomplete_input" />
            <div id="share_ds_autocomplete_panel"></div>
        </div>
        <p style="font-size:10px;margin-top:0;color:#bbb;">Enter one UW NetID or email address at a time</p>
        
        <div id="permissions_wrapper" style="height: 145px; overflow-y: auto; border: solid 1px #7F7F7F;">
            <table id="sharing_list">
                <thead>
                    <tr><th>Name</th></th></tr>
                </thead>
                <tbody>
                   
                    {{each accounts}}
                    {{if is_user}}
                        <tr><td><span class="permission-user">${name} ${surname} (${login})</span> {{if email}}shared by ${email}{{/if}}</td>
                        <td><span class="permission-action">Read-only <a href="javascript:void" class="js-remove_account" rel="${login}">x</a></span></td></tr>
                    {{else}}
                        <tr><td><span class="permission-user">${email}</span></td>
                        <td><span class="permission-action">Read-only <a href="javascript:void" class="js-remove_email" rel="${rel}">x</a></span></td></tr>
                    {{/if}}
                    {{/each}}
                </tbody>
            </table>
        </div>
    
    </div>
    
    <div style="margin-top:10px; text-align:right;">
        <a href="javascript:void(0)" class="js-close-sharing-panel ss-link-cancel" style="margin-right:10px;">Cancel
</a>
        <button class="ss-actions-button" id="sharing_panel_save">Save
</button>
    </div>
</script>
<script id="templates_query_running.html" type="text/x-jquery-tmpl"></script><div class="ss-table-processing">
    <img src="sqlshare/images/ss-loading.gif" />
</div>

<div id="query_in_queue" style="color: #aaa; display: none; position:absolute; top: 70%; text-align:center; width:100%;">  
    <p>Your query is taking longer than expected and has been<br/>
    added to your <a href='sqlshare#s=querylist'>Recent Activity</a> queue.</p>
</div></script>
<script id="templates_query_save_panel.html" type="text/x-jquery-tmpl"></script><div class="ss-dialog-save">

	<label for="${id}_query_name" class="ss-text-input-label">Name</label>
	<input type="text" value="${name}" id="${id}_query_name" class="ss-text-input"/> 
    <div style="display: none;" id="${id}_query_name_error" class="ss-error-text">Name can't include ?, #, /, \, [ or ]</div>
	
	<br />
		
	<label for="${id}_query_desc" class="ss-text-input-label">Description</label>
	<textarea id="${id}_query_desc" class="ss-text-input">${description}</textarea>

	<br />
	
	<input type="checkbox" id="${id}_is_public_check" {{if is_public}}checked="checked"{{/if}}>
	<label class="share-checkbox" for="${id}_is_public_check">Share this dataset with everyone.
</label>
	
	<br /><br />
	
    <h5>Tags</h5>
    <div id="new_query_tag_container"></div>
    
    <div style="margin-top:10px; text-align:right;">
        <a id="${id}_cancel" href="sqlshare#blank" class="ss-link-cancel">Cancel
</a>
	   <button class="ss-actions-button" id="${id}_save">Save
</button> 
    </div>
    
</div>
</script>
<script id="templates_query_error.html" type="text/x-jquery-tmpl"></script><div style="padding:10px;">
    <div class="ss-content-header">
        <h3>Error!
</h3>
    </div>
    
    <p>Problem running query: ${error}</p>
</div></script>
<script id="templates_query_sharing_panel.html" type="text/x-jquery-tmpl"></script><div id="on_save_display" style="display:none;">
    Saving...

</div>

<div id="share_data_public" style="display: none;">
    <!-- sol_include query/sharing_panel_public.html -->
</div>

<div id="share_data_workspace" style="display: none;">
    <!-- sol_include query/sharing_panel_private.html -->
</div>
</script>
<script id="templates_all_tables_loading.html" type="text/x-jquery-tmpl"></script><h3>Loading...
</h3>
<p>spinner</p>
</script>
<script id="templates_all_tables_list.html" type="text/x-jquery-tmpl"></script><h3>All Tables</h3>

<div style="overflow:auto;">
    <table border="0" cellpadding="0" cellspacing="0" style="width:2200px;">
        <thead>
            <tr>
                <td><strong>Name</strong></td>
                <td><strong>Owner</strong></td>
                <td><strong>Is Public</strong></td>
                <td><strong>URL</strong></td>
            </tr>
    
        </thead>
        <tbody>
        {{each tables}}
        <tr>
            <td><a href="./sqlshare#s=table/${owner}/${name}">${name}</a></td>
            <td>${owner}</td>
            <td>${is_public}</td>
            <td>${url}</td>
        </tr>
        {{/each}}
        </tbody>
    </table>
</div>

</script>
<script id="templates_all_tables_error.html" type="text/x-jquery-tmpl"></script><h3>Error!
</h3>

<p>There was an error retrieving your list of tables</p>
</script>
<script id="templates_query.html" type="text/x-jquery-tmpl"></script><div class="ss-query">
    <label for="${id}_query">Query:</label>  <span class="ss-text-example">(E.g. select * from table)</span>
    <br />
    <div id="${id}_query_wrapper" style="border: 1px solid black; display: none;">
    <textarea id="${id}_query" style="width: 700px; height: 170px;">
    </textarea>
    </div>
    <br />
    <button id="${id}_run_query">Run Query</button>
    <button id="${id}_save_query">Save Query</button>
</div>
<div id="${id}_results" class="ss-queryresults"></div>
</script>
<script id="templates_tagged_queries_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div></script>
<script id="templates_tagged_queries_list.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Tagged Datasets
<span class="ss-tag-header-pipe">|</span><span class="ss-tag-header">${tag}</span></h3>
    <div id='js-filter-wrapper' class="ss-dataset-filter"><span class="ss-filter-label">Filter dataset by keyword:
</span>&nbsp;&nbsp;<input type="text" id="query_filter" /> <a href="javascript:void(0)" id="clear_query_filter" role="button">x</a></div>
</div>
{{if no_queries}}
<div class="ss-no-datasets-exist">
	It looks like there are no datasets with that tag.

</div>
{{else}}
<div id="${id}_table" class="ss-dataset-list"></div>
{{/if}}

</script>
<script id="templates_tagged_queries_error.html" type="text/x-jquery-tmpl"></script><h3>Error!
</h3>
<p>There was an error retrieving your list of queries</p>
</script>
<script id="templates_favorite_sidebar.html" type="text/x-jquery-tmpl"></script>Favorite Queries
...
</script>
<script id="templates_all_queries_table_name_cell.html" type="text/x-jquery-tmpl"></script><div class="ss-dataset-name">
<a href="sqlshare#s=${url}">${name}</a>
{{if description}}
<span class="description">${description}</span>
{{/if}}
{{if tags}}
    <div class="ss-dataset-tags">
        {{each tags}}
            <span><a class='js-table-tag' href="javascript:void(0)" rel="${name}">${name}</a></span>
        {{/each}}
    </div>
{{/if}}
</div>
</script>
<script id="templates_all_queries_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div></script>
<script id="templates_all_queries_table_date_cell.html" type="text/x-jquery-tmpl"></script><div class="ss-dataset-date">${month} ${date}, ${year} ${hour}:${min} {{if pm}}PM{{else}}AM{{/if}}</div>
</script>
<script id="templates_all_queries_list.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>All Datasets
</h3>
    <div id='js-filter-wrapper' class="ss-dataset-filter"><span class="ss-filter-label">Filter dataset by keyword:
</span>&nbsp;&nbsp;<input type="text" id="query_filter" /> <a href="javascript:void(0)" id="clear_query_filter" role="button">x</a></div>
</div>

{{if no_queries}}
<div class="ss-no-datasets-exist">
	No datasets have been uploaded to SQLShare yet.<br />Be the very first person and <a href="sqlshare#s=file">upload some data</a>.

</div>{{else}}
<div id="${id}_table" class="ss-dataset-list"></div>
{{/if}}
</script>
<script id="templates_all_queries_table_owner_cell.html" type="text/x-jquery-tmpl"></script>{{if is_owner}}
<div class="ss-dataset-shared-owner">
    {{if is_public}}
        <span class="ss-access-public">Public
</span>
    {{else}}
        {{if is_shared}}
            <span class="ss-access-shared-owner">Sharing with others
</span>
        {{else}}
            <span class="ss-access-private">Only you can view this
</span>
        {{/if}}
    {{/if}}

    ${owner}
</div>
{{else}}
<div class="ss-dataset-shared-owner">
    {{if is_public}}
        <span class="ss-access-public">Public
</span>
    {{else}}
        <span class="ss-access-shared-viewer">Shared with you
</span>
    {{/if}}

    ${owner}
</div>
{{/if}}
</script>
<script id="templates_all_queries_error.html" type="text/x-jquery-tmpl"></script><h3>Error!
</h3>
<p>There was an error retrieving your list of queries</p>
</script>
<script id="templates_table_tabs.html" type="text/x-jquery-tmpl"></script><div style="height:30px; background-color:lime;">
<ul class="ss-tables-list" id="table_tab_list">
    <li style="display: none;">
        <div id="table_tab_overflow" class="yuimenubar">
            <div class="bd">
                <ul>
                    <li class="yuimenubaritem"><a class="yuimenubaritemlabel" href="#overflow">${overflow}</a></li>
                </ul>
            </div>
        </div>
    </li>
    {{each tabs}}
    <li{{if highlighted}} class="active"{{/if}}><a href="sqlshare#s=${type}/${name}">${display_name}</a> <a class="tab_close" title="Close this tab" name="tab_${position}">x</a></li>
    {{/each}}
</ul>
</div>
</script>
<script id="templates_home.html" type="text/x-jquery-tmpl"></script><script id="templates/table_tab.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table_tab.html</script>
<script id="templates/uploader/parser_options.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/parser_options.html</script>
<script id="templates/uploader/uploading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/uploading.html</script>
<script id="templates/uploader/file_list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/file_list.html</script>
<script id="templates/uploader/step1.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/step1.html</script>
<script id="templates/uploader/table_options.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/table_options.html</script>
<script id="templates/uploader/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/uploader/error.html</script>
<script id="templates/table/change_description.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/change_description.html</script>
<script id="templates/table/rename.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/rename.html</script>
<script id="templates/table/toggling_public.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/toggling_public.html</script>
<script id="templates/table/display.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/display.html</script>
<script id="templates/table/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/loading.html</script>
<script id="templates/table/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table/error.html</script>
<script id="templates/open_id/google.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/open_id/google.html</script>
<script id="templates/admin_override.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/admin_override.html</script>
<script id="templates/wayf/chooser.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/wayf/chooser.html</script>
<script id="templates/email_urls/user_list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/email_urls/user_list.html</script>
<script id="templates/email_urls/email_list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/email_urls/email_list.html</script>
<script id="templates/email_urls/dataset_list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/email_urls/dataset_list.html</script>
<script id="templates/shared_queries/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/shared_queries/loading.html</script>
<script id="templates/shared_queries/list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/shared_queries/list.html</script>
<script id="templates/shared_queries/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/shared_queries/error.html</script>
<script id="templates/default_home_screen.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/default_home_screen.html</script>
<script id="templates/load_error/bad_host.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/load_error/bad_host.html</script>
<script id="templates/boilerplate.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/boilerplate.html</script>
<script id="templates/query_queue/display.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query_queue/display.html</script>
<script id="templates/query_queue/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query_queue/loading.html</script>
<script id="templates/query/interface.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/interface.html</script>
<script id="templates/query/sharing_panel_public.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/sharing_panel_public.html</script>
<script id="templates/query/sharing_panel_private.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/sharing_panel_private.html</script>
<script id="templates/query/running.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/running.html</script>
<script id="templates/query/save_panel.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/save_panel.html</script>
<script id="templates/query/error.html" type="text/x-jquery-tmpl" src=>sqlshare/javascript/templates/query/error.html</script>
<script id="templates/query/sharing_panel.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query/sharing_panel.html</script>
<script id="templates/all_tables/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_tables/loading.html</script>
<script id="templates/all_tables/list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_tables/list.html</script>
<script id="templates/all_tables/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_tables/error.html</script>
<script id="templates/query.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/query.html</script>
<script id="templates/tagged_queries/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/tagged_queries/loading.html</script>
<script id="templates/tagged_queries/list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/tagged_queries/list.html</script>
<script id="templates/tagged_queries/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/tagged_queries/error.html</script>
<script id="templates/favorite_sidebar.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/favorite_sidebar.html</script>
<script id="templates/all_queries/table_name_cell.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/table_name_cell.html</script>
<script id="templates/all_queries/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/loading.html</script>
<script id="templates/all_queries/table_date_cell.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/table_date_cell.html</script>
<script id="templates/all_queries/list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/list.html</script>
<script id="templates/all_queries/table_owner_cell.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/table_owner_cell.html</script>
<script id="templates/all_queries/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/all_queries/error.html</script>
<script id="templates/table_tabs.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/table_tabs.html</script>
<script id="templates/home.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/home.html</script>
<script id="templates/saved_query/change_description.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/change_description.html</script>
<script id="templates/saved_query/rename.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/rename.html</script>
<script id="templates/saved_query/deleting.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/deleting.html</script>
<script id="templates/saved_query/display.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/display.html</script>
<script id="templates/saved_query/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/loading.html</script>
<script id="templates/saved_query/overwrite_panel.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/overwrite_panel.html</script>
<script id="templates/saved_query/in_process.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/in_process.html</script>
<script id="templates/saved_query/loading_preview.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/loading_preview.html</script>
<script id="templates/saved_query/building_snapshot.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/building_snapshot.html</script>
<script id="templates/saved_query/edit.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/edit.html</script>
<script id="templates/saved_query/not_found.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/not_found.html</script>
<script id="templates/saved_query/preview_error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/preview_error.html</script>
<script id="templates/saved_query/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/error.html</script>
<script id="templates/saved_query/description_area.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/description_area.html</script>
<script id="templates/saved_query/confirm_delete.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/confirm_delete.html</script>
<script id="templates/saved_query/change_statement.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/saved_query/change_statement.html</script>
<script id="templates/dataset/accept.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/dataset/accept.html</script>
<script id="templates/dataset/details.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/dataset/details.html</script>
<script id="templates/dataset/not_found.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/dataset/not_found.html</script>
<script id="templates/manage_credentials/interface.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/manage_credentials/interface.html</script>
<script id="templates/manage_credentials/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/manage_credentials/loading.html</script>
<script id="templates/manage_credentials/error.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/manage_credentials/error.html</script>
<script id="templates/sidebar_lists.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/sidebar_lists.html</script>
<script id="templates/my_queries/loading.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/my_queries/loading.html</script>
<script id="templates/my_queries/list.html" type="text/x-jquery-tmpl">sqlshare/javascript/templates/my_queries/list.html</script>

<script>
   $(document).ready(function() {
    console.log($('#templates/query/error.html'));
     $('#templates/query/error.html').tmpl().appendTo('#destination');
   });
</script>

<div style="width: 400px; height: 400px; border: 1px solid red;" id="destination"></div>

<iframe id="yui-history-iframe" src="javascript/yui/build/history/assets/blank.html"></iframe>
<input id="yui-history-field" type="hidden">

<div id="ss_app" class="ss-app-container">
    
    <div class="ss-sidebar" id="ss_sidebar">
             
            <h3 class="ss-sidebar-logo"><a title="Welcome to SQLShare" href="sqlshare#s=home"><img src="sqlshare/images/ss-logo.png" /></a></h3>
            
            <div id="ss_sidebar_content" class="ss-sidebar-content">
                <ul class="ss-sidebar-items">
                    <li id="your_queries_li"><a href="sqlshare#s=home" title="View datasets owned by you" rel="home">Your datasets
</a></li>
                    <li id="all_queries_li"><a href="sqlshare#s=all_queries" title="View all datasets" rel="all_queries">All datasets
</a></li>
                    <li id="shared_queries_li"><a href="sqlshare#s=shared" title="View datasets shared with you" rel="shared_queries">Shared datasets
</a></li>
                    <li id="query_list_li"><a href="sqlshare#s=querylist" title="View recent query activity" rel="querylist"><span style="display:block; float:left; width:100px; padding:0;">Recent&nbsp;activity...
</span><span id="nav_finished_query_count" style="display:block;float:right;padding:0; color:green;font-size:92%;padding-top:1px;"></span><span class="clear" style="height:0;padding:0;"></span>
                    </a></li>
                    <li><span id="recent_queries" style="cursor:pointer;">Recently viewed
&nbsp;&nbsp;<span style="font-size:110%;display:inline;padding:0;">&raquo;</span></span></li>
                </ul>
                <ul class="ss-sidebar-items">  
                    <li id="new_upload_li"><a href="sqlshare#s=file" title="Upload a new dataset" rel="file">Upload dataset
</a></li>
                    <li id="new_query_li"><a href="sqlshare#s=query" title="Start a new query" rel="query">New query
</a></li>
                </ul>
                <div id="tagging_sidebar"></div>
            </div>
            
    </div>
    
    
    <div class="ss-content" id="ss_content">
    
        <div id="menu_container"></div>
        <div id="hidden_test_container" style="visibility: hidden; position: absolute; top: -900px;"></div>
        
        <div class="ss-app-navigation">
            
            <div id="tab_nav_tables" class="nav-container">           
                <ul class="ss-tables-list" id="table_tab_list" style="margin-right:530px;">
                    <li id="table_tab_overflow_li" class="tab_overflow"><div id="table_tab_overflow_div"></div></li>
                </ul>
            </div>
            
            <div class="ss-account-info">
                <p><span style="color:#275877;font-weight:normal;">Logged in:
</span>&nbsp;&nbsp;<span style="display:inline-block;">${login_name}</span></p>
            </div>
            
            <div class="clear"></div>
            
            
            
        </div>
        
        <div id="ss_application_wrapper">
            
            <div class="ss-app-workspace-wrapper">
                <div id="ss_app_workspace" style="padding-right:10px;"></div>
            </div>
            
            <div class="ss-editor" id="ss_editor_col">
                <div id="edit_query_container" style="overflow-y: auto; margin-left:10px; padding-right:10px; width:480px; "></div>
            </div>
            
            <div class="clear"></div>
             
        </div>
        <div class="clear"></div>
        
    </div>
    

    <div class="clear"></div>

</div>
</script>
<script id="templates_saved_query_change_description.html" type="text/x-jquery-tmpl"></script><div class="ss-query-description-edit">
    
    <h4>${name}</h4>
    
    <h5>Description</h5>
    
    {{if is_owner}}
	<textarea id="${id}_description">${description}</textarea>
    {{else}}
    <div style="margin-bottom:1em;">
    {{if description}}
        ${description}
    {{else}}
        <span class="ss-click-to-edit">No description provided by owner</span>

    {{/if}}
    </div>
    {{/if}}

    <h5>Tags</h5>
    <div id="tag_container"></div>
	
	
	<div style="margin-top:10px; text-align:right;">    
	   <a id="${id}_cancel_description" class="ss-link-cancel">Cancel</a>
	   <button class="ss-actions-button" id="${id}_save_description">Save</button>
    </div>
    
</div>
</script>
<script id="templates_saved_query_rename.html" type="text/x-jquery-tmpl"></script><input type="text" id="${id}_name" value="${name}"/>
<button id="${id}_save_name">Save</button>
<button id="${id}_cancel_name">Cancel</button>
</script>
<script id="templates_saved_query_deleting.html" type="text/x-jquery-tmpl"></script>Deleting...
</script>
<script id="templates_saved_query_display.html" type="text/x-jquery-tmpl"></script><div id="${id}_name_required" style="display: none;">A name is required</div>

<div id="ss_content_header" class="ss-content-header">
    
    <h3 style="float:left;margin:0;white-space:nowrap;">
        <span id="${id}_name_container">${name}</span>
        {{if is_owner}}
            {{if is_public}}
                <span class="ss-access-public">Viewable by everyone
</span>
            {{else}}
                {{if is_shared}}
                    <span class="ss-access-shared-owner">Sharing with others
</span>
                {{else}}
                    <span class="ss-access-private">Only you can view this
</span>
                {{/if}}
            {{/if}}
        {{else}}
            {{if is_public}}
                <span class="ss-access-public">Viewable by everyone
</span>
            {{else}}
                <span class="ss-access-shared-viewer">Shared with you
</span>
            {{/if}}
        {{/if}}
    </h3>
        
    <div style="float:right;font-size:90%;color:#777; line-height:16px;">
        <span class="ss-mod-date">Last modified:&nbsp;${mod_date_month} ${mod_date_date}, ${mod_date_year} ${mod_date_hour}:${mod_date_min} {{if mod_date_pm}}PM{{else}}AM{{/if}}</span>
        <span class="ss-owner-info">${owner}</span>  
    </div>
    
    <div class="clear"></div>
</div>

<div id="ss_content_body_main" class="ss-content-body">
    
    <div id="js-description-container">
    ${description_area}
    </div>

    <div class="ss-query-text">
        <textarea id="${id}_sql_display" readonly="readonly" style="height:50px;">${statement}</textarea>
    </div>
    
    <div style="margin-bottom: 15px; text-align:right; white-space:nowrap; ">
    
        {{if is_editable}}<button class="ss-actions-button edit_query_button" title="Edit this dataset" id="${id}_edit_query" type="button">Edit dataset
</button>{{/if}}
        <button class="ss-actions-button" title="Create new dataset from this query" id="${id}_derive">Derive dataset
</button>
        <button class="ss-actions-button" id="${id}_snapshot">Create snapshot
</button>
        {{if !defined is_editable || !is_editable}}<button class="ss-actions-button" title="Download this dataset" id="${id}_download_query">Download
</button>{{/if}}
        {{if is_editable}}
        <button class="ss-actions-button" title="View more actions" id="action_menu_div">More actions
&nbsp;<img src="sqlshare/images/ss-actions-arrow.png"></button>
        {{/if}}
        <div id="${id}_download_error" style="display: none;"></div>
    </div>
   

</div>

<div id="ss_content_table" class="ss-content-table" style="">

    <h5 id="initial_preview_header" style="display: none;">DATASET PREVIEW
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight:normal;">Rows <span style="color:#000;font-weight:bold;">1 - <span id="initial_max_rows"></span> </span> of <span style="color:#000;font-weight:bold;"><span id="initial_total_rows"></span></span>&nbsp;&nbsp;|&nbsp;&nbsp;Columns <span id="initial_max_cols" style="color:#000;font-weight:bold;"></span> of <span id="initial_total_cols" style="color:#000;font-weight:bold;"></span></span></h5>
    
    <div id="ss_table_container_main" class="ss-table-container" style="height: 200px;">
        <div id="${id}_saved_results"></div>
    </div>
        

</div>
</script>
<script id="templates_saved_query_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div>

</script>
<script id="templates_saved_query_overwrite_panel.html" type="text/x-jquery-tmpl"></script>You already have a query with that name.  Would you like to replace it?

<br /><br />
<a id="${id}_replace_table">Yes, replace the existing query</a> <a id="${id}_cancel_replace">No</a>
</script>
<script id="templates_saved_query_in_process.html" type="text/x-jquery-tmpl"></script><div id="${id}_name_required" style="display: none;">A name is required</div>

<div id="ss_content_header" class="ss-content-header">
    <h3>Recent Query</h3>
</div>

<div id="ss_content_body_main" class="ss-content-body">
    

    <div id="${id}_query_wrapper" style="border: 1px solid black; display: none;">
        <textarea id="${id}_sql_display" style="height:170px;">${statement}</textarea>
    </div>
    
    <div style="margin: 15px 0; text-align:right;">
        <button class="ss-actions-button" id="${id}_run_query" type="button" >Run query</button>
        <button class="ss-actions-button save_query_button" id="${id}_save_query" type="button" >Save query</button>
        <button class="ss-actions-button" id="${id}_snapshot">Create snapshot
</button>
        <button class="ss-actions-button" id="${id}_download_query">Download results</button>
        <div id="${id}_download_error" style="display: none;"></div>
    </div>
   

</div>

<div id="new_query_preview_panel" class="ss-content-table">

    <h5 id="initial_preview_header" style="display: none;">DATASET PREVIEW
&nbsp;&nbsp;&nbsp;&nbsp;<span style="font-weight:normal;">Rows <span style="color:#000;font-weight:bold;">1 - <span id="initial_max_rows"></span> </span> of <span style="color:#000;font-weight:bold;"><span id="initial_total_rows"></span></span>&nbsp;&nbsp;|&nbsp;&nbsp;Columns <span id="initial_max_cols" style="color:#000;font-weight:bold;"></span> of <span id="initial_total_cols" style="color:#000;font-weight:bold;"></span></span></h5>
    
    <div id="ss_table_container_main" class="ss-table-container" style="height: 200px;">
        <div id="${id}_saved_results"></div>
    </div>
        

</div>
</script>
<script id="templates_saved_query_loading_preview.html" type="text/x-jquery-tmpl"></script><div class="ss-processing-container">
    <img src="sqlshare/images/ss-loading.gif" />
    <p>Please wait for dataset to load...</p>
</div></script>
<script id="templates_saved_query_building_snapshot.html" type="text/x-jquery-tmpl"></script>The snapshot is currently being built.
</script>
<script id="templates_saved_query_edit.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h5>{{if is_saveable}}EDITING
{{else}}DERIVE
{{/if}}</h5>&nbsp;&nbsp; <strong><a href="sqlshare#s=${url}">${name}</strong></a>
    <span style="float:right;"><a id="ss_cancel_statement" style="float:right;margin-top:-8px;margin-right:-10px;" class="ss-link-cancel" title="Close this panel">close&nbsp;&nbsp;<strong>x</strong>
</a></span>
</div>

<div id="ss_content_body" class="ss-content-body">

    <div id="ss_statement_container" class="ss-statement-container">
        <div id="edit_query_wrapper" style="display: none;">
            <textarea id="ss_edit_statement_area" style=" width: 100%; height: 150px; font-family:Courier; padding:2px;">${statement}</textarea>
        </div>
    </div>
    <p class="ss-edit-execute-query"><button id="ss_run_query" title="Execute this query">Execute query
</button></p>
</div>
    
<div class="ss-content-table">

    <h5 id="dataset_preview_header" style="display: none;">DATASET PREVIEW
&nbsp;&nbsp;&nbsp;<span style="font-weight:normal;">Rows <span style="color:#000;font-weight:bold;">1 - <span id="preview_max_rows"></span></span> of <span style="color:#000;font-weight:bold;"><span id="preview_total_rows"></span></span>&nbsp;&nbsp;|&nbsp;&nbsp;Columns <span id="preview_max_cols" style="color:#000;font-weight:bold;"></span> of <span id="preview_total_cols" style="color:#000;font-weight:bold;"></span></span></h5>
    <div id="ss_table_container" class="ss-table-container">
        <div id="${id}_results">
            <p class="ss-edit-no-preview">No table available!
</p>
        </div>
    </div>
    
    {{if is_saveable}}
    <p id="ss_edit_button_row"><button id="ss_save_statement" title="Update this dataset">Update dataset
</button>&nbsp;&nbsp;&nbsp;<a class="ss-save-as-secondary" id="ss_save_as" title="Create new dataset from query">Create new dataset
 from query</a> </p>
    {{else}}
    <p id="ss_edit_button_row"><button id="ss_save_as" title="Create new dataset from query">Create new dataset
</button> </p>
    {{/if}}

</div>    
</script>
<script id="templates_saved_query_not_found.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Dataset not available!</h3>
</div>

<p>The dataset you are requesting cannot be loaded. It may have been deleted by the owner or you no longer have access to view it.</p>

</script>
<script id="templates_saved_query_preview_error.html" type="text/x-jquery-tmpl"></script><p style="margin:10px;">Unable to show preview</p>
</script>
<script id="templates_saved_query_error.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Error!
</h3>
</div>

<p>There was an error loading your query.</p>



</script>
<script id="templates_saved_query_description_area.html" type="text/x-jquery-tmpl"></script>    <div class="ss-query-description" id="${id}_description_container">
        
        {{if description}}
            ${description}
        {{else}}
            {{if is_owner}}
                <span class="ss-click-to-edit">Click here to add a description</span>

            {{else}}
                <span class="ss-click-to-edit">No description provided by owner</span>
  
            {{/if}}
        {{/if}}        
        
        <div class="ss-dataset-tags">
        {{if tags}}
            {{each tags}}
                <span>${name}</span>
            {{/each}}
        {{else}}
            <p class="ss-click-to-tag">Click here to add a tag</p>

        {{/if}}
        </div>
        
    </div>

</script>
<script id="templates_saved_query_confirm_delete.html" type="text/x-jquery-tmpl"></script><div class="ss-dialog-delete">
	
	<p style="color:#777;margin: 30px 0;">Are you sure you want to delete <strong>${name}</strong>?</p>

    <div style="text-align:right;">
        <a id="${id}_delete_cancel" class="ss-link-cancel">Cancel</a>
	   <button class="ss-actions-button" id="${id}_delete_query">Delete</button>
	</div>

</div></script>
<script id="templates_saved_query_change_statement.html" type="text/x-jquery-tmpl"></script><div style="color: #666; margin-bottom:10px;">${statement}</div>

<div id="${id}_query_wrapper" style="border: 1px solid black; display: none; background-color: white">
<textarea id="${id}_statement" style="width: 700px; height: 70px;">${statement}</textarea>
</div>
<br />
<button id="${id}_run_query">Run Edited Query</button>
<button id="${id}_save_statement">Save</button>
<button id="${id}_cancel_statement">Cancel</button>
</script>
<script id="templates_dataset_accept.html" type="text/x-jquery-tmpl"></script>
    <div class="ss-wayf-content">
            
       
        <div class="ss-accept-container" style="border-left: solid 20px #255478;">
            
             <img src="sqlshare/images/ss-wayf-logo.png" style="width:240px;"/>
             <p style="margin-bottom: 20px; color:#333;">SQLShare is an easier way to store and share your data.</p>
             
            {{if not_found}}
                <!-- sol_include dataset/not_found.html -->
            {{else}}
                <!-- sol_include dataset/details.html -->
            {{/if}}
                                
        </div>
                
    </div>
    
    
        
</script>
<script id="templates_dataset_details.html" type="text/x-jquery-tmpl"></script><h3 style="color:green;">${name} ${surname} (${login}) is sharing a dataset with you!</h3>


<p style="margin:30px 0;"><strong>Dataset</strong><br/>
${dataset_name} - ${accept_link}</p>

<p style="color:#777;">You will be required to log in using a Google Account or your UW NetID.</p></script>
<script id="templates_dataset_not_found.html" type="text/x-jquery-tmpl"></script><h1>Dataset not found</h1>

</script>
<script id="templates_manage_credentials_interface.html" type="text/x-jquery-tmpl"></script>Use this key: ${key}

<br />
<button id="create_new_credentials">Regenerate credential</button>
</script>
<script id="templates_manage_credentials_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div>

</script>
<script id="templates_manage_credentials_error.html" type="text/x-jquery-tmpl"></script>Error fetching your REST credentials.
</script>
<script id="templates_sidebar_lists.html" type="text/x-jquery-tmpl"></script>{{if popular_datasets}}
<h3>Your top viewed
</h3>
<ul class="ss-sidebar-items" style="padding-top:10px;">
{{each popular_datasets}}
    <li><a href="${url}" title="View dataset ${name}"><span class="ss-tag-name" style="text-transform:none;">${name}</span><span class="ss-tag-count">${popularity}</span><span class="clear" style="height:0;padding:0;"></span></a></li>
{{/each}}
</ul>

{{/if}}

{{if tags}}
<div id="check_tagging_sidebar" style="display: none;"></div>
<h3>Popular Tags
</h3>
<ul class="ss-sidebar-items" id='js-sidebar-tag-list' style="padding-top:10px; border-bottom: none;">
    {{each tags}}
        <li id='popular_tag_${name}'><a href="sqlshare#s=tag/${url_name}" title="View datasets tagged as ${name}"><span class="ss-tag-name">${name}</span><span class="ss-tag-count">${count}</span><span class="clear" style="height:0;padding:0;"></span></a></li>
    {{/each}}
</ul>
{{/if}}
</script>
<script id="templates_my_queries_loading.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Loading...
</h3>
</div>

<div class="ss-processing-container"><img src="sqlshare/images/ss-loading.gif" /></div></script>
<script id="templates_my_queries_list.html" type="text/x-jquery-tmpl"></script><div class="ss-content-header">
    <h3>Your Datasets
</h3>
    <div id='js-filter-wrapper' class="ss-dataset-filter"><span class="ss-filter-label">Filter dataset by keyword:
</span>&nbsp;&nbsp;<input type="text" id="query_filter" /> <a href="javascript:void(0)" id="clear_query_filter" role="button">x</a></div>
</div>
{{if no_queries}}
<div class="ss-no-datasets-exist">
	You do not have any datasets in SQLShare yet.<br /><a href="sqlshare#s=file">Upload some data</a> to get started.

</div>
{{else}}
<div id="${id}_table" class="ss-dataset-list"></div>
{{/if}}

</script>

